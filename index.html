<!DOCTYPE HTML>
<html style="font-size:50px;">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content=" initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <meta name = "format-detection" content = "telephone=no">
  <title>js-xxy-popup Dome</title>
  <link rel="stylesheet" href="xxy.css">
</head>
<body style="height:2000px;font-size:16px;">
  <span>xxy.popup</span><button  onclick="popup()">选择弹窗</button><br />
  <span>xxy.alert</span><button onclick="alertk()">确认弹窗</button><br />
  <span>xxy.toast</span><button onclick="toast()">自动消失提示</button><br />
	<p>例子：</p>
  <button onclick="testphone()">手机号验证</button><br />
	<br /><br />
	
	<div style="width:300px" id="down-viewbox" class="xxy-down-viewbox">
		<div class="view">
			<ul style="height:500px">
				<div>喵喵喵</div>
				<div>暂时只适配手机端</div>
			</ul>
		</div>
	</div>
</body>
<script src="xxy.js"></script>
<script>
	function popup(){
		xxy.popup('githubDome','您觉得xxy弹窗做的如何？','好','不好',function(e){
			if(e==0){
			  xxy.toast('谢谢的你支持！');
			}else{
			  xxy.toast('xxy会继续加油↖(^ω^)↗');
			}
		});
	}
	function alertk(){
		xxy.alert('22',function(){
			xxy.popup('ss')
		});
	}
	function toast(){
		xxy.toast('您好，我是阿拉丁神灯');
	}
	
	
	function testphone(tips){
		var tips= tips?tips:'';
		xxy.popup(
			'未绑定手机号',
			//'<p>手机号：</p>'+
			'<input type="password" style="margin:.5em 0;padding: .2em;border-width:0px;border:1px solid #ddd; box-sizing: border-box;width:100%;" onchange="xxy.v1= this.value" />'+
			'<span style="color:#880707">'+tips+'</span>',
			'绑定',
			'取消',
			function(e){
				if(e==0){
					if(!xxy.v1){
						testphone("未输入手机号！");
						return false;
					}
					if(xxy.v1.length<=1){
						testphone("未输入手机号！");
						return false;
					}
					if(!(/^1[3458]\d{9}$/.test(xxy.v1))){ 
						testphone("手机号码有误，请重填");
						return false;
					}
					xxy.toast('验证成功');
				}else{
					xxy.toast('以取消');
				}
			}
		);
	}
	
	
	
	var test= new xxy.XxyDown();
	 test.cc([
		{
			dom: document.querySelector('#down-viewbox'),
			befor: function(){
				window.setTimeout(function(){
					test.downLoad(this);
				}.bind(this),500);
			}
		}
	]);
</script>
</html>
